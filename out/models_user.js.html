<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: models/user.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: models/user.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>// const e = require('express');
const db = require('../util/database');

/**
 * Module for user-related utilities.
 * @module models/user 
 */

/**
 * User class
 * @class This is a User class representing a user of the website.
 */
module.exports = class User {
    /**
     * Create a user.
     * @param {string} id - The id of the user randomly generated by UUID npm library.
     * @param {string} email - The email of the user.
     * @param {string} password - The password of the user account.
     * @param {string} profession - The profession of the user.
     * @param {number} experience - The number of years of user's job experience.
     * @param {string} interests - The subjects of user's interests.
     * @param {string} events - The event(s) the user saved on their account.
     */
    constructor(id, email, password, proffession, experience, interests, events) {
        this.id = id;
        this.email = email;
        // TODO: hash
        this.password = password;
        this.proffesion = proffession;
        this.experience = experience;
        this.interests = interests;
        this.events = events;
    }

    /**
     * Fetch a user from the database using user email.
     * @param {string} email - The email of a user to find.
     * @param {Object} database - The database object for database connection.
     * @return {Array} The result set of selected user records.
     */
    static fetchUser(email, database) {
        return database.execute('SELECT * FROM users WHERE email = ?', [email]);
    }

    /**
     * Create and save new user into the database.
     * @param {Object} database - The database object for database connection.
     * @return {Array} The result set of inserted user record.
     */
    createUser(database) {
        return database.execute('INSERT INTO users (id, email, password, proffession, experience, interests, events) VALUES (?, ?, ?, ?, ?, ?, ?)',
            [this.id, this.email, this.password, this.proffession, this.experience, this.interests, this.events]);
    }

    /**
     * Fetch a user from the database using user ID.
     * @param {string} id - The ID of a user to find.
     * @param {Object} database - The database object for database connection.
     * @return {Array} The result set of selected user records.
     */
    static fetchUserById(id, database) {
        return database.execute('SELECT * FROM users WHERE users.id = ?', [id]);
    }

    /**
     * Update a user with new user information.
     * @return {Array} The result set of updated user record.
     */
    saveUser() {
        return db.execute('UPDATE users SET email = ?, password = ?, proffession = ?, experience = ?, interests = ? WHERE users.id = ?',
            [this.email, this.password, this.proffession, this.experience, this.interests, this.id]);
    }

    /**
     * Fetch a user from the database using user ID.
     * @param {string} id - The ID of a user to find.
     * @param {Array} event - The list of events user saved to their account.
     * @return {Array} The result set of updated user record.
     */
    static updateUserEvents(id, event) {
        return db.execute('UPDATE users SET events = ? WHERE users.id = ?', [event, id]);
    }

}</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-controller_authenticate.html">controller/authenticate</a></li><li><a href="module-models_user.html">models/user</a></li><li><a href="module-util_database.html">util/database</a></li></ul><h3>Classes</h3><ul><li><a href="module-models_user.html">models/user</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.7</a> on Sat Jun 26 2021 20:32:11 GMT+0200 (Central European Summer Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
